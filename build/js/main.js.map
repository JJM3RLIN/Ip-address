{"version":3,"sources":["main.js"],"names":["archivos","map","async","geo","direccion","length","parseInt","respuesta","fetch","api","json","alert","mapa","L","setView","tileLayer","attribution","addTo","buscar","btn","document","querySelector","inputBucar","ip","loc","time","isp","addEventListener","e","target","value","trim","preventDefault","country","region","timezone","lat","lng","location","textContent","locacion","flyTo","myIcon","icon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowSize","shadowAnchor","marker"],"mappings":"AAKA,IAAIA,SACAC,IACHC,eAAeC,IAAIC,GAIf,GAAiB,IAAbA,GAAmBA,EAAUC,OAAQ,IAAMC,SAASF,GAAa,EAAI,CACxE,MAAMG,QAAkBC,MAAMC,mIAAuCL,GACrEJ,eAAiBO,EAAUG,YAIxBC,MAAM,aAGd,SAASC,OAELX,IAAMY,EAAEZ,IAAI,OAAOa,QAAQ,CAAC,QAAS,KAAO,GAC7CD,EAAEE,UAAU,qDAAsD,CAClEC,YAAa,4FACVC,MAAMhB,KAGb,SAASiB,SACN,IAAId,EACJ,MAAMe,EAAMC,SAASC,cAAc,QAC7BC,EAAaF,SAASC,cAAc,aACpCE,EAAKH,SAASC,cAAc,OAC5BG,EAAMJ,SAASC,cAAc,aAC7BI,EAAOL,SAASC,cAAc,SAC9BK,EAAMN,SAASC,cAAc,QACnCC,EAAWK,iBAAiB,SAAWC,IACpCxB,EAAYwB,EAAEC,OAAOC,MAAMC,OAEX,IAAb3B,GACFD,IAAIC,KAERe,EAAIQ,iBAAiB,QAAUC,IAG/B,GADGA,EAAEI,iBACFhC,SAAS,CACT,MAAMiC,QAACA,EAAOC,OAAEA,EAAMC,SAAEA,EAAQC,IAAEA,EAAGC,IAAEA,GAAOrC,SAASsC,SACvDf,EAAGgB,YAAcvC,SAASuB,GAC1BC,EAAIe,YAAcN,EAAU,KAAOC,EACnCT,EAAKc,YAAc,OAAOJ,EAC1BT,EAAIa,YAAcvC,SAAS0B,IAC5B,IAAIc,EAAW,CAACJ,EAAKC,GACrBpC,IAAIwC,MAAMD,EAAU,IACpB,IAAIE,EAAS7B,EAAE8B,KAAK,CACjBC,QAAS,kCACTC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,EAAE,GAAI,IACnBC,WAAY,CAAC,GAAI,IACjBC,aAAc,CAAC,GAAI,MAEvBpC,EAAEqC,OAAO,CAACd,EAAKC,GAAM,CAACM,KAAMD,IAASzB,MAAMhB,UAEzCU,MAAM,iBA/DZS,SAASO,iBAAiB,mBAAoB,KAC3Cf,OACAM","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', ()=>{\r\n   mapa();\r\n   buscar();\r\n});\r\n//Traido desde la api\r\nlet archivos;\r\nlet map;\r\n async function geo(direccion){\r\n     const api = \"https://geo.ipify.org/api/v2/country,city,vpn?apiKey=at_I2iEIlOKrBJCDQhfE0RPj3N694HyT&ipAddress=8.8.8.8\";\r\n     //Hacemos la peticion para traer los datos\r\n     //evitamos que salga error\r\n     if( direccion != '' && direccion.length >10 && parseInt(direccion) > 0 ) {\r\n      const respuesta = await fetch(api + \"apiKey=1538077&\" + `ipAddress=${direccion}`);\r\n      archivos = await respuesta.json();\r\n     }\r\n   \r\n      else{\r\n         alert('Not found');\r\n      }\r\n}\r\n function mapa(){\r\n  \r\n     map = L.map('map').setView([51.505, -0.09], 6);\r\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }).addTo(map);\r\n\r\n}\r\nfunction buscar(){\r\n   let direccion;\r\n   const btn = document.querySelector('.btn');\r\n   const inputBucar = document.querySelector('#buscarIp');\r\n   const ip = document.querySelector('#ip');\r\n   const loc = document.querySelector('#location');\r\n   const time = document.querySelector('#time');\r\n   const isp = document.querySelector('#isp');\r\n   inputBucar.addEventListener('change', (e)=>{\r\n      direccion = e.target.value.trim();\r\n \r\n      if(direccion != '')\r\n       geo(direccion);\r\n   });\r\n   btn.addEventListener('click', (e)=>{\r\n     \r\n      e.preventDefault();\r\n   if(archivos){\r\n      const {country, region, timezone, lat, lng} = archivos.location;\r\n      ip.textContent = archivos.ip;\r\n      loc.textContent = country + \", \" + region; \r\n      time.textContent = `UTC ${timezone}`;\r\n      isp.textContent = archivos.isp;\r\n     let locacion = [lat, lng];\r\n     map.flyTo(locacion, 13);\r\n     let myIcon = L.icon({\r\n        iconUrl: '/build/images/icon-location.svg',\r\n        iconSize: [38, 50],\r\n        iconAnchor: [22, 94],\r\n        popupAnchor: [-3, -76],\r\n        shadowSize: [68, 95],\r\n        shadowAnchor: [22, 94]\r\n    });\r\n    L.marker([lat, lng], {icon: myIcon}).addTo(map);\r\n   }else{\r\n      alert('Write an IP')\r\n   }\r\n    \r\n   });\r\n}\r\n"]}